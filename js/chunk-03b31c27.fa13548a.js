(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03b31c27"],{8418:function(t,s,e){"use strict";var a=e("c04e"),r=e("9bf2"),i=e("5c6c");t.exports=function(t,s,e){var n=a(s);n in t?r.f(t,n,i(0,e)):t[n]=e}},"99af":function(t,s,e){"use strict";var a=e("23e7"),r=e("d039"),i=e("e8b5"),n=e("861d"),o=e("7b0b"),c=e("50c4"),d=e("8418"),l=e("65f0"),u=e("1dde"),h=e("b622"),v=e("2d00"),f=h("isConcatSpreadable"),p=9007199254740991,_="Maximum allowed index exceeded",g=v>=51||!r((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),b=u("concat"),m=function(t){if(!n(t))return!1;var s=t[f];return void 0!==s?!!s:i(t)},C=!g||!b;a({target:"Array",proto:!0,forced:C},{concat:function(t){var s,e,a,r,i,n=o(this),u=l(n,0),h=0;for(s=-1,a=arguments.length;s<a;s++)if(i=-1===s?n:arguments[s],m(i)){if(r=c(i.length),h+r>p)throw TypeError(_);for(e=0;e<r;e++,h++)e in i&&d(u,h,i[e])}else{if(h>=p)throw TypeError(_);d(u,h++,i)}return u.length=h,u}})},"9b06":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),e("div",{staticClass:"site-section pb-0"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[t.order.is_paid?e("div",{staticClass:"col-md-12 text-center"},[e("span",{staticClass:"icon-check_circle display-3 text-success"}),e("h2",{staticClass:"display-3 text-black"},[t._v("感謝你!")]),e("p",{staticClass:"lead mb-5"},[t._v("你的訂單已完成")])]):t._e(),e("div",{staticClass:"col-md-12 text-dark"},[e("form",{staticClass:"col-md-8 mx-auto",on:{submit:function(s){return s.preventDefault(),t.payOrder(s)}}},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.order.products,(function(s,a){return e("tr",{key:a},[e("td",{staticClass:"align-middle font-weight-bold"},[t._v(t._s(s.product.title))]),e("td",{staticClass:"align-middle font-weight-normal"},[t._v(t._s(s.qty))]),e("td",{staticClass:"text-right align-middle font-weight-bold"},[t._v(t._s(t._f("currency")(s.total)))])])})),0),e("tfoot",[e("tr",[e("td",{staticClass:"font-weight-bold text-danger"},[t._v("總計")]),e("td"),e("td",{staticClass:"text-right font-weight-bold text-danger"},[t._v(t._s(t._f("currency")(t.order.total)))])])])]),e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("th",[t._v("Email")]),e("td",{staticClass:"font-weight-normal"},[t._v(t._s(t.order.user["email"]))])]),e("tr",[e("th",[t._v("姓名")]),e("td",{staticClass:"font-weight-normal"},[t._v(t._s(t.order.user["name"]))])]),e("tr",[e("th",[t._v("收件人電話")]),e("td",{staticClass:"font-weight-normal"},[t._v(t._s(t.order.user["tel"]))])]),e("tr",[e("th",[t._v("收件人地址")]),e("td",{staticClass:"font-weight-normal"},[t._v(t._s(t.order.user["address"]))])]),e("tr",[e("th",[t._v("付款狀態")]),e("td",[t.order.is_paid?e("span",{staticClass:"text-success"},[t._v("付款完成")]):e("span",{staticClass:"text-danger"},[t._v("尚未付款")])])])])])])]),e("div",{staticClass:"col-md-8 text-center mx-auto my-3"},[!1===t.order.is_paid?e("div",[e("button",{staticClass:"btn btn-danger",on:{click:t.payOrder}},[t._v("確認付款去")])]):e("div",[e("router-link",{staticClass:"btn btn-sm btn-primary btn-block",attrs:{type:"button",to:"/shop"}},[t._v("繼續購物")])],1)])])])])],1)},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",{},[e("th",[t._v("品名")]),e("th",[t._v("數量")]),e("th",{staticClass:"text-right"},[t._v("金額")])])}],i=(e("99af"),{data:function(){return{order:{user:{}},orderId:"",isLoading:!1}},methods:{getOrder:function(){var t=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("gwul3vu02","/order/").concat(t.orderId);t.isLoading=!0,t.$http.get(s).then((function(s){t.isLoading=!1,t.order=s.data.order}))},payOrder:function(){var t=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("gwul3vu02","/pay/").concat(t.orderId);t.isLoading=!0,t.$http.post(s).then((function(s){s.data.success?(t.$bus.$emit("message:push",s.data.message,"success"),t.getOrder()):(t.$bus.$emit("message:push",s.data.message,"danger"),t.getOrder()),t.isLoading=!1}))}},created:function(){this.orderId=this.$route.params.id,this.getOrder()}}),n=i,o=e("2877"),c=Object(o["a"])(n,a,r,!1,null,null,null);s["default"]=c.exports}}]);
//# sourceMappingURL=chunk-03b31c27.fa13548a.js.map