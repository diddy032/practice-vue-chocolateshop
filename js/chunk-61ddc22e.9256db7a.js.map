{"version":3,"sources":["webpack:///./src/views/CustomerPage/CheckoutPage.vue?bd42","webpack:///src/views/CustomerPage/CheckoutPage.vue","webpack:///./src/views/CustomerPage/CheckoutPage.vue?51fc","webpack:///./src/views/CustomerPage/CheckoutPage.vue","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/core-js/modules/es.array.concat.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","on","$event","staticClass","_v","preventDefault","createOrder","directives","name","rawName","value","expression","form","user","class","errors","has","domProps","target","composing","$set","_s","first","_e","_m","_l","cart","item","index","key","product","title","qty","_f","total","final_total","Coupon","code","percent","staticRenderFns","data","email","tel","address","message","couponShow","methods","getCart","vm","$http","get","api","then","response","$router","push","$bus","$emit","carts","coupon","$validator","validate","result","post","success","created","component","toPrimitive","definePropertyModule","createPropertyDescriptor","module","exports","object","propertyKey","f","$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","proto","forced","arg","i","k","length","len","E","A","n","arguments","TypeError"],"mappings":"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","file":"js/chunk-61ddc22e.9256db7a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"site-section\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6 mb-5 mb-md-0 mx-auto text-dark\"},[_c('h2',{staticClass:\"h3 mb-3 text-black\"},[_vm._v(\"購買人資訊\")]),_c('div',{staticClass:\"p-3 p-lg-5 border\",on:{\"submit\":function($event){$event.preventDefault();return _vm.createOrder($event)}}},[_c('div',{staticClass:\"form-group font-weight-bold\"},[_c('label',{attrs:{\"for\":\"useremail\"}},[_vm._v(\"信箱 *\")]),_c('input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|email'),expression:\"'required|email'\"},{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.email),expression:\"form.user.email\"}],staticClass:\"form-control\",class:{'is-invalid':_vm.errors.has('email')},attrs:{\"type\":\"email\",\"name\":\"email\",\"id\":\"useremail\",\"placeholder\":\"請輸入 Email\",\"required\":\"\"},domProps:{\"value\":(_vm.form.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"email\", $event.target.value)}}}),(_vm.errors.has('email'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.errors.first('email')))]):_vm._e()]),_c('div',{staticClass:\"form-group font-weight-bold\"},[_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(\"收件人姓名 *\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.name),expression:\"form.user.name\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{'is-invalid':_vm.errors.has('name')},attrs:{\"type\":\"text\",\"name\":\"name\",\"id\":\"username\",\"placeholder\":\"輸入姓名\"},domProps:{\"value\":(_vm.form.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"name\", $event.target.value)}}}),(_vm.errors.has('name'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"姓名必須輸入\")]):_vm._e()]),_c('div',{staticClass:\"form-group font-weight-bold\"},[_c('label',{attrs:{\"for\":\"usertel\"}},[_vm._v(\"收件人電話 *\")]),_c('input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|numeric'),expression:\"'required|numeric'\"},{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.tel),expression:\"form.user.tel\"}],staticClass:\"form-control\",class:{'is-invalid':_vm.errors.has('usertel')},attrs:{\"type\":\"tel\",\"name\":\"usertel\",\"id\":\"usertel\",\"placeholder\":\"請輸入電話\"},domProps:{\"value\":(_vm.form.user.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"tel\", $event.target.value)}}}),(_vm.errors.has('usertel'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"電話必須輸入\")]):_vm._e()]),_c('div',{staticClass:\"form-group font-weight-bold\"},[_c('label',{attrs:{\"for\":\"useraddress\"}},[_vm._v(\"收件人地址 *\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.address),expression:\"form.user.address\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{'is-invalid':_vm.errors.has('address')},attrs:{\"type\":\"text\",\"name\":\"address\",\"id\":\"useraddress\",\"placeholder\":\"請輸入地址\"},domProps:{\"value\":(_vm.form.user.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"address\", $event.target.value)}}}),(_vm.errors.has('address'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"地址欄位不得留空\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"text-black\",attrs:{\"for\":\"comment\"}},[_vm._v(\"備註:\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.message),expression:\"form.message\"}],staticClass:\"form-control\",attrs:{\"name\":\"c_order_notes\",\"id\":\"comment\",\"cols\":\"30\",\"rows\":\"5\",\"placeholder\":\"給我們訂單訊息或注意事項\"},domProps:{\"value\":(_vm.form.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"message\", $event.target.value)}}})])])]),_c('div',{staticClass:\"col-md-6 mx-auto\"},[_c('div',{staticClass:\"row mb-5\"},[_c('div',{staticClass:\"col-md-12\"},[_c('h2',{staticClass:\"h3 mb-3 text-black\"},[_vm._v(\"訂單明細\")]),_c('div',{staticClass:\"p-3 p-lg-5 border\"},[_c('table',{staticClass:\"table site-block-order-table mb-5\"},[_vm._m(0),_c('tbody',_vm._l((_vm.cart.carts),function(item,index){return _c('tr',{key:index},[_c('td',{staticClass:\"text-primary font-weight-normal\"},[_vm._v(\" \"+_vm._s(item.product.title)+\" \"),(item.coupon)?_c('div',{staticClass:\"text-success\"},[_vm._v(\" 已套用優惠券 \")]):_c('div',{staticClass:\"text-secondary\"},[_vm._v(\" 未套用優惠券 \")])]),_c('td',{staticClass:\"text-primary font-weight-normal text-center\"},[_vm._v(\" \"+_vm._s(item.qty)+\" \")]),_c('td',{staticClass:\"text-primary text-right font-weight-normal\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.total))+\" \"),_c('div',{staticClass:\"text-danger text-right font-weight-normal\"},[_vm._v(\" -\"+_vm._s(_vm._f(\"currency\")(item.total - item.final_total))+\" \")])])])}),0)]),(_vm.couponShow)?_c('div',{staticClass:\"mb-5\"},[_c('div',{staticClass:\"h5 text-dark font-weight-bold\"},[_vm._v(\" 已使用的優惠券 \")]),_c('div',{staticClass:\"d-flex justify-content-between align-items-center\"},[_c('small',{staticClass:\"text-muted font-weight-bold text-primary\"},[_vm._v(\"折扣券名\")]),_c('div',{staticClass:\"h6 text-left font-weight-bold text-primary\"},[_vm._v(_vm._s(_vm.Coupon.title))])]),_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('small',{staticClass:\"text-muted font-weight-bold text-primary\"},[_vm._v(\"折扣碼\")]),_c('div',{staticClass:\"h6 text-left font-weight-bold text-primary\"},[_vm._v(_vm._s(_vm.Coupon.code))])]),_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('small',{staticClass:\"text-muted font-weight-bold text-primary\"},[_vm._v(\"折扣%\")]),_c('div',{staticClass:\"h6 text-left font-weight-bold text-primary\"},[_vm._v(_vm._s(_vm.Coupon.percent)+\"%\")])])]):_vm._e(),_c('table',{staticClass:\"table mb-5\"},[_c('tbody',[(_vm.cart.total !== _vm.cart.final_total)?_c('tr',[_vm._m(1),_c('td',{staticClass:\"text-black text-right font-weight-normal\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.cart.total)))])]):_vm._e(),(_vm.cart.total !== _vm.cart.final_total)?_c('tr',{staticClass:\"text-danger\"},[_vm._m(2),_c('td',{staticClass:\"text-danger text-right font-weight-normal\"},[_vm._v(\"-\"+_vm._s(_vm._f(\"currency\")(_vm.cart.total-_vm.cart.final_total)))])]):_vm._e(),_c('tr',[_vm._m(3),_c('td',{staticClass:\"text-black text-right font-weight-bold\"},[_c('strong',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.cart.final_total)))])])])])]),_c('button',{staticClass:\"btn btn-primary btn-lg py-3 btn-block\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.createOrder}},[_vm._v(\"確認訂單\")])])])])])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',[_vm._v(\"產品名稱\")]),_c('th',{staticClass:\"text-center\"},[_vm._v(\"數量\")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\"價格\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',{staticClass:\"text-black font-weight-bold\"},[_c('strong',[_vm._v(\"購買總金額\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',{staticClass:\"font-weight-bold text-danger\"},[_c('strong',[_vm._v(\"優惠券折抵\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',{staticClass:\"text-black font-weight-bold\"},[_c('strong',[_vm._v(\"訂單金額\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <loading :active.sync=\"isLoading\"></loading>\n    <div class=\"site-section\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-md-6 mb-5 mb-md-0 mx-auto text-dark\">\n            <h2 class=\"h3 mb-3 text-black\">購買人資訊</h2>\n            <div class=\"p-3 p-lg-5 border\" @submit.prevent=\"createOrder\">\n              <div class=\"form-group font-weight-bold\">\n                <label for=\"useremail\">信箱 *</label>\n                <input type=\"email\" class=\"form-control\" name=\"email\" id=\"useremail\" :class=\"{'is-invalid':errors.has('email')}\" v-validate=\"'required|email'\" v-model=\"form.user.email\"  placeholder=\"請輸入 Email\" required>\n                <span class=\"text-danger\" v-if=\"errors.has('email')\">{{ errors.first('email') }}</span>\n              </div>\n              <div class=\"form-group font-weight-bold\">\n                <label for=\"username\">收件人姓名 *</label>\n                <input type=\"text\" class=\"form-control\" name=\"name\" id=\"username\" :class=\"{'is-invalid':errors.has('name')}\" v-model=\"form.user.name\" v-validate=\"'required'\"  placeholder=\"輸入姓名\">\n                <span class=\"text-danger\" v-if=\"errors.has('name')\">姓名必須輸入</span>\n              </div>\n              <div class=\"form-group font-weight-bold\">\n                <label for=\"usertel\">收件人電話 *</label>\n                <input type=\"tel\" class=\"form-control\" name=\"usertel\" id=\"usertel\" :class=\"{'is-invalid':errors.has('usertel')}\" v-validate=\"'required|numeric'\" v-model=\"form.user.tel\" placeholder=\"請輸入電話\">\n                <span class=\"text-danger\" v-if=\"errors.has('usertel')\">電話必須輸入</span>\n              </div>\n              <div class=\"form-group font-weight-bold\">\n                <label for=\"useraddress\">收件人地址 *</label>\n                <input type=\"text\" class=\"form-control\" name=\"address\" id=\"useraddress\" v-model=\"form.user.address\" :class=\"{'is-invalid':errors.has('address')}\" v-validate=\"'required'\"\n                  placeholder=\"請輸入地址\">\n                <span class=\"text-danger\" v-if=\"errors.has('address')\">地址欄位不得留空</span>\n              </div>\n              <div class=\"form-group\">\n                <label for=\"comment\" class=\"text-black\">備註:</label>\n                <textarea name=\"c_order_notes\" id=\"comment\" cols=\"30\" rows=\"5\" class=\"form-control\" placeholder=\"給我們訂單訊息或注意事項\" v-model=\"form.message\"></textarea>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-md-6 mx-auto\">\n            <div class=\"row mb-5\">\n              <div class=\"col-md-12\">\n                <h2 class=\"h3 mb-3 text-black\">訂單明細</h2>\n                <div class=\"p-3 p-lg-5 border\">\n                  <table class=\"table site-block-order-table mb-5\">\n                    <thead>\n                      <th>產品名稱</th>\n                      <th class=\"text-center\">數量</th>\n                      <th class=\"text-right\">價格</th>\n                    </thead>\n                    <tbody>\n                      <tr v-for=\"(item, index) in cart.carts\" :key=\"index\">\n                        <td class=\"text-primary font-weight-normal\" >\n                          {{item.product.title}}\n                          <div class=\"text-success\" v-if=\"item.coupon\">\n                            已套用優惠券\n                          </div>\n                          <div class=\"text-secondary\" v-else>\n                            未套用優惠券\n                          </div>\n                        </td>\n                        <td class=\"text-primary font-weight-normal text-center\">\n                          {{item.qty}}\n                        </td>\n                        <td class=\"text-primary text-right font-weight-normal\">\n                          {{item.total | currency}}\n                          <div class=\"text-danger text-right font-weight-normal\">\n                            -{{item.total - item.final_total | currency}}\n                          </div>\n                        </td>\n                      </tr>\n                    </tbody>\n                  </table>\n                  <div class=\"mb-5\" v-if=\"couponShow\">\n                    <div class=\"h5 text-dark font-weight-bold\">\n                      已使用的優惠券\n                    </div>\n                    <div class=\"d-flex justify-content-between align-items-center\">\n                      <small class=\"text-muted font-weight-bold text-primary\">折扣券名</small>\n                      <div class=\"h6 text-left font-weight-bold text-primary\">{{Coupon.title}}</div>\n                    </div>\n                    <div class=\"d-flex justify-content-between\">\n                      <small class=\"text-muted font-weight-bold text-primary\">折扣碼</small>\n                      <div class=\"h6 text-left font-weight-bold text-primary\">{{Coupon.code}}</div>\n                    </div>\n                    <div class=\"d-flex justify-content-between\">\n                      <small class=\"text-muted font-weight-bold text-primary\">折扣%</small>\n                      <div class=\"h6 text-left font-weight-bold text-primary\">{{Coupon.percent}}%</div>\n                    </div>\n                  </div>\n                  <table class=\"table mb-5\">\n                    <tbody>\n                      <tr  v-if=\"cart.total !== cart.final_total\">\n                        <td class=\"text-black font-weight-bold\"><strong>購買總金額</strong></td>\n                        <td class=\"text-black text-right font-weight-normal\">{{cart.total | currency}}</td>\n                      </tr>\n                      <tr class=\"text-danger\" v-if=\"cart.total !== cart.final_total\">\n                        <td class=\"font-weight-bold text-danger\">\n                          <strong>優惠券折抵</strong>\n                        </td>\n                        <td class=\"text-danger text-right font-weight-normal\">-{{cart.total-cart.final_total | currency}}</td>\n                      </tr>\n                      <tr>\n                        <td class=\"text-black font-weight-bold\"><strong>訂單金額</strong></td>\n                        <td class=\"text-black text-right font-weight-bold\"><strong>{{cart.final_total | currency}}</strong></td>\n                      </tr>\n                    </tbody>\n                  </table>\n                  <button type=\"button\" class=\"btn btn-primary btn-lg py-3 btn-block\" @click=\"createOrder\">確認訂單</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <!-- </form> -->\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      cart: [],\n      Coupon: {},\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: ''\n        },\n        message: ''\n      },\n      isLoading: false,\n      couponShow: false\n    }\n  },\n  methods: {\n    getCart () {\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`\n      const vm = this\n      vm.isLoading = true\n      vm.$http.get(api).then((response) => {\n        vm.isLoading = false\n        vm.cart = response.data.data\n\n        if (vm.cart.total === 0) {\n          vm.$router.push('/')\n          vm.$bus.$emit('message:push', '該頁面目前禁止訪問', 'danger')\n        }\n\n        if (vm.cart.final_total !== vm.cart.total) {\n          vm.Coupon = vm.cart.carts[0].coupon\n          vm.couponShow = true\n        } else {\n          vm.Coupon = {}\n          vm.couponShow = false\n        }\n      })\n    },\n    createOrder () {\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/order`\n      const vm = this\n      const order = vm.form\n      vm.$validator.validate().then((result) => {\n        if (result) {\n          vm.$http.post(api, { data: order }).then((response) => {\n            if (response.data.success) {\n              vm.$bus.$emit('message:push', response.data.message, 'success')\n              vm.$router.push(`/thankyou/${response.data.orderId}`)\n            }\n          })\n        } else {\n          vm.$bus.$emit('message:push', '欄位不完整', 'danger')\n        }\n      })\n    }\n  },\n  created () {\n    this.getCart()\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckoutPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckoutPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CheckoutPage.vue?vue&type=template&id=5ef93eba&\"\nimport script from \"./CheckoutPage.vue?vue&type=script&lang=js&\"\nexport * from \"./CheckoutPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n"],"sourceRoot":""}