(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9d3834fc"],{"13d5":function(t,a,e){"use strict";var s=e("23e7"),i=e("d58f").left,r=e("a640"),n=e("ae40"),c=r("reduce"),l=n("reduce",{1:0});s({target:"Array",proto:!0,forced:!c||!l},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"152e":function(t,a,e){},"159b":function(t,a,e){var s=e("da84"),i=e("fdbc"),r=e("17c2"),n=e("9112");for(var c in i){var l=s[c],o=l&&l.prototype;if(o&&o.forEach!==r)try{n(o,"forEach",r)}catch(d){o.forEach=r}}},"17c2":function(t,a,e){"use strict";var s=e("b727").forEach,i=e("a640"),r=e("ae40"),n=i("forEach"),c=r("forEach");t.exports=n&&c?[].forEach:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,a,e){"use strict";var s=e("23e7"),i=e("17c2");s({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"809b":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t.products.length>0?e("div",{staticClass:"site-section"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row mb-5"},[e("div",{staticClass:"col-lg-9 col-md-12 order-2"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mb-5"},[e("div",{staticClass:"float-md-left mb-2"},[e("h2",{staticClass:"text-black h3 font-weight-bold"},[t._v(t._s(t.filterValue))])]),t.FilterPorducts.length>0?e("div",{staticClass:"d-flex"},[e("div",{staticClass:"dropdown mr-1 ml-md-auto"},[t.FilterPorducts.length>1?e("div",{staticClass:"btn-group"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuReference","data-toggle":"dropdown"}},[t._v("排序方式")]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuReference"}},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.setOrder(1)}}},[t._v("價格, 由低到高")]),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.setOrder(2)}}},[t._v("價格, 由高到低")])])]):t._e()])]):t._e()])]),t.FilterPorducts.length>0?e("div",{staticClass:"row mb-5"},t._l(t.FilterPorducts,(function(a,s){return e("div",{key:s,staticClass:"col-12 col-lg-6 mb-4"},[e("div",{staticClass:"block-4 text-center border position-relative"},[e("div",{staticClass:"position-absolute p-2 m-2 text-danger",staticStyle:{right:"0","z-index":"3"},on:{click:function(e){return t.EditLikeList(a)}}},[e("div",{staticClass:"like-farme-iton text-danger"},[-1==t.liked.indexOf(a.id)?e("i",{staticClass:"far fa-heart like-iton text-danger"}):e("i",{staticClass:"fas fa-heart like-iton text-danger"})])]),e("figure",{staticClass:"block-4-image img-cover"},[e("router-link",{attrs:{to:"/shopsitem/"+a.id}},[e("img",{staticClass:"img-fluid img-hover",attrs:{src:a.imageUrl,alt:"Image placeholder"}})])],1),e("div",{staticClass:"block-4-text p-4"},[e("h3",[e("a",{staticClass:"text-primary",attrs:{href:"#"}},[t._v(t._s(a.title))])]),e("div",{staticClass:"my-3"},[e("div",{staticClass:"text-primary font-weight-bold h3 mb-0 mb-2"},[t._v("NT"+t._s(t._f("currency")(a.price)))]),e("del",{staticClass:"h5"},[t._v("NT"+t._s(t._f("currency")(a.origin_price)))])]),e("div",{staticClass:"d-flex justify-content-around"},[e("router-link",{staticClass:"btn btn-outline-info btn-sm my-3",attrs:{type:"button",to:"/shopsitem/"+a.id}},[e("i",{staticClass:"fas fa-tag mr-2"}),t._v(" 查看更多 ")]),e("button",{staticClass:"btn btn-outline-primary btn-sm my-3",attrs:{type:"button"},on:{click:function(e){return t.addtoCart(a.id)}}},[t.status.loadingItem===a.id?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),e("i",{staticClass:"fas fa-shopping-cart mr-2"}),t._v(" 加到購物車 ")])],1)])])])})),0):e("div",[e("div",{staticClass:"row mb-5"},t._l(t.products,(function(a,s){return e("div",{key:s,staticClass:"col-12 col-lg-6 mb-4"},[e("div",{staticClass:"block-4 text-center border position-relative"},[e("div",{staticClass:"position-absolute p-2 m-2 text-danger ",staticStyle:{right:"0","z-index":"3"},on:{click:function(e){return t.EditLikeList(a)}}},[e("div",{staticClass:"like-farme-iton"},[-1==t.liked.indexOf(a.id)?e("i",{staticClass:"far fa-heart like-iton"}):e("i",{staticClass:"fas fa-heart like-iton"})])]),e("figure",{staticClass:"block-4-image img-cover"},[e("router-link",{attrs:{to:"/shopsitem/"+a.id}},[e("img",{staticClass:"img-fluid img-hover",attrs:{src:a.imageUrl,alt:"Image placeholder"}})])],1),e("div",{staticClass:"block-4-text p-4"},[e("h3",[e("a",{attrs:{href:"text-primary"}},[t._v(t._s(a.title))])]),e("div",{staticClass:"my-3"},[e("div",{staticClass:"text-primary font-weight-bold h3 mb-0 mb-2"},[t._v("NT"+t._s(t._f("currency")(a.price)))]),e("del",{staticClass:"h5"},[t._v("NT"+t._s(t._f("currency")(a.origin_price)))])]),e("div",{staticClass:"d-flex justify-content-around"},[e("router-link",{staticClass:"btn btn-outline-info btn-sm my-3",attrs:{type:"button",to:"/shopsitem/"+a.id}},[e("i",{staticClass:"fas fa-tag mr-2"}),t._v(" 查看更多 ")]),e("button",{staticClass:"btn btn-outline-primary btn-sm my-3",attrs:{type:"button"},on:{click:function(e){return t.addtoCart(a.id)}}},[t.status.loadingItem===a.id?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),e("i",{staticClass:"fas fa-shopping-cart mr-2"}),t._v(" 加到購物車 ")])],1)])])])})),0),e("Pagination",{attrs:{pages:t.paginations},on:{changeCurrentPage:t.getProducts}})],1)]),e("div",{staticClass:"col-lg-3 col-md-12 order-1 mb-5 mb-md-0"},[e("div",{staticClass:"border p-4 rounded mb-4"},[e("div",{staticClass:"mb-4 d-none d-lg-block d-xl-block"},[e("h3",{staticClass:"mb-3 h5 text-uppercase text-black d-block font-weight-bold"},[t._v("商品")]),e("ul",{staticClass:"list-unstyled mb-4"},[e("li",{staticClass:"mb-1"},[e("a",{staticClass:"d-flex font-weight-normal",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.setFilter("all")}}},[e("span",[t._v("顯示全部商品")])])])])]),e("button",{staticClass:"btn btn-primary btn-block my-3 btn-lg d-lg-none d-xl-none",attrs:{type:"button","data-toggle":"collapse","data-target":"#category1collapse","aria-expanded":"false","aria-controls":"category1collapse"}},[t._v(" 商品 ")]),e("div",{staticClass:"collapse show d-lg-none d-xl-none",attrs:{id:"category1collapse"}},[e("div",{staticClass:"card card-body border-0"},[e("ul",{staticClass:"list-unstyled mb-4"},[e("li",{staticClass:"mb-1"},[e("a",{staticClass:"d-flex font-weight-normal",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.setFilter("all")}}},[e("span",[t._v("顯示全部商品")])])])])])]),e("div",{staticClass:"d-none d-lg-block d-xl-block"},[e("h3",{staticClass:"mb-3 h5 text-uppercase text-black d-block font-weight-bold"},[t._v("分類")]),e("ul",{staticClass:"list-unstyled mb-4"},t._l(t.allCategory,(function(a,s){return e("li",{key:s,staticClass:"mb-1"},[e("a",{staticClass:"d-flex font-weight-normal",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.setFilter(a.title)}}},[e("span",[t._v(t._s(a.title))]),t._v(" "),e("span",{staticClass:"text-black ml-auto"},[t._v("（"+t._s(a.count)+"）")])])])})),0)]),e("button",{staticClass:"btn btn-primary btn-block my-3 btn-lg d-lg-none d-xl-none",attrs:{type:"button","data-toggle":"collapse","data-target":"#category2collapse","aria-expanded":"false","aria-controls":"category2collapse"}},[t._v(" 分類 ")]),e("div",{staticClass:"collapse",attrs:{id:"category2collapse"}},[e("div",{staticClass:"card card-body border-0"},[e("ul",{staticClass:"list-unstyled mb-4"},t._l(t.allCategory,(function(a,s){return e("li",{key:s,staticClass:"mb-1"},[e("a",{staticClass:"d-flex font-weight-normal",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.setFilter(a.title)}}},[e("span",[t._v(t._s(a.title))]),t._v(" "),e("span",{staticClass:"text-black ml-auto"},[t._v("（"+t._s(a.count)+"）")])])])})),0)])])])])])])]):e("div",{staticClass:"site-section"},[t._m(0)])],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 text-center"},[e("div",{staticClass:"h2"},[t._v("Oops!")]),e("i",{staticClass:"far fa-grin-beam-sweat fa-10x my-2"}),e("div",{staticClass:"h3"},[t._v("敬請期待我們的商品!")])])])])}],r=(e("99af"),e("4de4"),e("4160"),e("c975"),e("13d5"),e("a434"),e("159b"),e("a96d")),n={components:{Pagination:r["a"]},data:function(){return{products:[],allProducts:[],allCategory:[],FilterPorducts:[],paginations:{},liked:JSON.parse(localStorage.getItem("Like Item List"))||[],isLoading:!1,status:{loadingItem:""},filterValue:""}},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("gwul3vu02","/products?page=").concat(t),e=this;e.isLoading=!0,e.$http.get(a).then((function(t){e.isLoading=!1,e.products=t.data.products.reverse().filter((function(t,a,e){return 1===t.is_enabled})),e.paginations=t.data.pagination}))},getAllProducts:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("gwul3vu02","/products/all"),e=this;e.$http.get(a).then((function(a){e.isLoading=!1,e.Allproducts=a.data.products.filter((function(t,a,e){return 1===t.is_enabled}));e.Allproducts.reduce((function(a,s){return s.category in a?(a[s.category]++,e.allCategory.forEach((function(t,a,e){t.title===s.category&&t.count++}))):(a[s.category]=1,e.allCategory.push({title:s.category,count:1})),t.setFilter(t.$route.params.categoryName),a}),{})}))},addtoCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("gwul3vu02","/cart"),s=this,i={product_id:t,qty:a};s.status.loadingItem=t,this.$http.post(e,{data:i}).then((function(t){s.status.loadingItem="",s.getProducts(),s.$bus.$emit("message:push",t.data.message,"success"),s.$bus.$emit("cart-item","修改購物車icon")}))},setFilter:function(t){var a=this;void 0!=t&&""!=t||(t="all"),"all"==t?(a.filterValue="全部商品",a.FilterPorducts=[]):(a.filterValue="商品分類："+t,a.FilterPorducts=a.Allproducts.filter((function(a,e,s){return a.category==t})))},setOrder:function(t){1==t?this.FilterPorducts=this.FilterPorducts.sort((function(t,a){return t.price-a.price})):2==t&&(this.FilterPorducts=this.FilterPorducts.sort((function(t,a){return a.price-t.price})))},EditLikeList:function(t){var a=this,e=a.liked.indexOf(t.id);-1==e?(a.liked.push(t.id),a.$bus.$emit("message:push",t.title+"，「加入」願望清單","success")):(a.liked.splice(e,1),a.$bus.$emit("message:push",t.title+"，「移出」願望清單","warning")),localStorage.setItem("Like Item List",JSON.stringify(a.liked)),a.getProducts()}},created:function(){this.getProducts(),this.getAllProducts()}},c=n,l=(e("949f"),e("2877")),o=Object(l["a"])(c,s,i,!1,null,null,null);a["default"]=o.exports},8418:function(t,a,e){"use strict";var s=e("c04e"),i=e("9bf2"),r=e("5c6c");t.exports=function(t,a,e){var n=s(a);n in t?i.f(t,n,r(0,e)):t[n]=e}},"949f":function(t,a,e){"use strict";var s=e("fd20"),i=e.n(s);i.a},"99af":function(t,a,e){"use strict";var s=e("23e7"),i=e("d039"),r=e("e8b5"),n=e("861d"),c=e("7b0b"),l=e("50c4"),o=e("8418"),d=e("65f0"),u=e("1dde"),f=e("b622"),g=e("2d00"),p=f("isConcatSpreadable"),h=9007199254740991,m="Maximum allowed index exceeded",v=g>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),b=u("concat"),C=function(t){if(!n(t))return!1;var a=t[p];return void 0!==a?!!a:r(t)},y=!v||!b;s({target:"Array",proto:!0,forced:y},{concat:function(t){var a,e,s,i,r,n=c(this),u=d(n,0),f=0;for(a=-1,s=arguments.length;a<s;a++)if(r=-1===a?n:arguments[a],C(r)){if(i=l(r.length),f+i>h)throw TypeError(m);for(e=0;e<i;e++,f++)e in r&&o(u,f,r[e])}else{if(f>=h)throw TypeError(m);o(u,f++,r)}return u.length=f,u}})},a434:function(t,a,e){"use strict";var s=e("23e7"),i=e("23cb"),r=e("a691"),n=e("50c4"),c=e("7b0b"),l=e("65f0"),o=e("8418"),d=e("1dde"),u=e("ae40"),f=d("splice"),g=u("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,h=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!f||!g},{splice:function(t,a){var e,s,d,u,f,g,b=c(this),C=n(b.length),y=i(t,C),_=arguments.length;if(0===_?e=s=0:1===_?(e=0,s=C-y):(e=_-2,s=h(p(r(a),0),C-y)),C+e-s>m)throw TypeError(v);for(d=l(b,s),u=0;u<s;u++)f=y+u,f in b&&o(d,u,b[f]);if(d.length=s,e<s){for(u=y;u<C-s;u++)f=u+s,g=u+e,f in b?b[g]=b[f]:delete b[g];for(u=C;u>C-s+e;u--)delete b[u-1]}else if(e>s)for(u=C-s;u>y;u--)f=u+s-1,g=u+e-1,f in b?b[g]=b[f]:delete b[g];for(u=0;u<e;u++)b[u+y]=arguments[u+2];return b.length=C-s+e,d}})},a726:function(t,a,e){"use strict";var s=e("152e"),i=e.n(s);i.a},a96d:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"row my-3"},[e("div",{staticClass:"col-md-12 text-center"},[e("div",{staticClass:"site-block-27",attrs:{"aria-label":"Page navigation"}},[e("ul",{staticClass:"pagination font-weight-bold justify-content-center"},[e("li",{staticClass:"page-item",class:{disabled:!t.pages.has_pre}},[e("a",{staticClass:"page-link",on:{click:function(a){return a.preventDefault(),t.changePagination(t.pages.current_page-1)}}},[t._v("<")])]),t._l(t.pages.total_pages,(function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.pages.current_page===a},on:{click:function(e){return e.preventDefault(),t.changePagination(a)}}},[e("span",{staticClass:"page-link"},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item",class:{disabled:!t.pages.has_next}},[e("a",{staticClass:"page-link",on:{click:function(a){return a.preventDefault(),t.changePagination(t.pages.current_page+1)}}},[t._v(">")])])],2)])])])])},i=[],r={name:"pages",props:{pages:{type:Object}},methods:{changePagination:function(t){this.$emit("changeCurrentPage",t)}}},n=r,c=(e("a726"),e("2877")),l=Object(c["a"])(n,s,i,!1,null,"7cdc36fa",null);a["a"]=l.exports},d58f:function(t,a,e){var s=e("1c0b"),i=e("7b0b"),r=e("44ad"),n=e("50c4"),c=function(t){return function(a,e,c,l){s(e);var o=i(a),d=r(o),u=n(o.length),f=t?u-1:0,g=t?-1:1;if(c<2)while(1){if(f in d){l=d[f],f+=g;break}if(f+=g,t?f<0:u<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:u>f;f+=g)f in d&&(l=e(l,d[f],f,o));return l}};t.exports={left:c(!1),right:c(!0)}},fd20:function(t,a,e){},fdbc:function(t,a){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-9d3834fc.7c775408.js.map